{"ast":null,"code":"// CustomCursor.jsx\nimport React,{useEffect,useState,useCallback}from\"react\";import'./CustomCursor.scss';import{jsx as _jsx}from\"react/jsx-runtime\";export const CustomCursor=()=>{const[position,setPosition]=useState({x:0,y:0});const[isHover,setIsHover]=useState(false);const[isPointerDown,setIsPointerDown]=useState(false);// Используем requestAnimationFrame для оптимизации анимации\nconst[rafId,setRafId]=useState(null);const[pendingPosition,setPendingPosition]=useState(null);const updatePosition=useCallback(()=>{if(pendingPosition){setPosition(pendingPosition);setPendingPosition(null);}setRafId(null);},[pendingPosition]);const handleMouseMove=useCallback(e=>{// Обновляем позицию только через requestAnimationFrame для лучшей производительности\nsetPendingPosition({x:e.clientX,y:e.clientY});if(!rafId){setRafId(requestAnimationFrame(updatePosition));}},[rafId,updatePosition]);const handleMouseOver=useCallback(e=>{if(e.target.closest('.cursorhover, button, a, .link, .badge, .cursor-pointer')){setIsHover(true);}else{setIsHover(false);}},[]);const handleMouseDown=useCallback(()=>{setIsPointerDown(true);},[]);const handleMouseUp=useCallback(()=>{setIsPointerDown(false);},[]);useEffect(()=>{document.addEventListener('mousemove',handleMouseMove);document.addEventListener('mouseover',handleMouseOver);document.addEventListener('mousedown',handleMouseDown);document.addEventListener('mouseup',handleMouseUp);return()=>{document.removeEventListener('mousemove',handleMouseMove);document.removeEventListener('mouseover',handleMouseOver);document.removeEventListener('mousedown',handleMouseDown);document.removeEventListener('mouseup',handleMouseUp);if(rafId){cancelAnimationFrame(rafId);}};},[handleMouseMove,handleMouseOver,handleMouseDown,handleMouseUp,rafId]);return/*#__PURE__*/_jsx(\"div\",{className:\"custom-cursor \".concat(isHover?'hover':'',\" \").concat(isPointerDown?'active':''),style:{left:\"\".concat(position.x,\"px\"),top:\"\".concat(position.y,\"px\")}});};","map":{"version":3,"names":["React","useEffect","useState","useCallback","jsx","_jsx","CustomCursor","position","setPosition","x","y","isHover","setIsHover","isPointerDown","setIsPointerDown","rafId","setRafId","pendingPosition","setPendingPosition","updatePosition","handleMouseMove","e","clientX","clientY","requestAnimationFrame","handleMouseOver","target","closest","handleMouseDown","handleMouseUp","document","addEventListener","removeEventListener","cancelAnimationFrame","className","concat","style","left","top"],"sources":["/Users/alex/Documents/Github/Portfolio/src/Components/Cursor/CustomCursor.jsx"],"sourcesContent":["// CustomCursor.jsx\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport './CustomCursor.scss';\n\nexport const CustomCursor = () => {\n    const [position, setPosition] = useState({ x: 0, y: 0 });\n    const [isHover, setIsHover] = useState(false);\n    const [isPointerDown, setIsPointerDown] = useState(false);\n    \n    // Используем requestAnimationFrame для оптимизации анимации\n    const [rafId, setRafId] = useState(null);\n    const [pendingPosition, setPendingPosition] = useState(null);\n\n    const updatePosition = useCallback(() => {\n        if (pendingPosition) {\n            setPosition(pendingPosition);\n            setPendingPosition(null);\n        }\n        setRafId(null);\n    }, [pendingPosition]);\n\n    const handleMouseMove = useCallback((e) => {\n        // Обновляем позицию только через requestAnimationFrame для лучшей производительности\n        setPendingPosition({ x: e.clientX, y: e.clientY });\n        \n        if (!rafId) {\n            setRafId(requestAnimationFrame(updatePosition));\n        }\n    }, [rafId, updatePosition]);\n\n    const handleMouseOver = useCallback((e) => {\n        if (e.target.closest('.cursorhover, button, a, .link, .badge, .cursor-pointer')) {\n            setIsHover(true);\n        } else {\n            setIsHover(false);\n        }\n    }, []);\n\n    const handleMouseDown = useCallback(() => {\n        setIsPointerDown(true);\n    }, []);\n\n    const handleMouseUp = useCallback(() => {\n        setIsPointerDown(false);\n    }, []);\n\n    useEffect(() => {\n        document.addEventListener('mousemove', handleMouseMove);\n        document.addEventListener('mouseover', handleMouseOver);\n        document.addEventListener('mousedown', handleMouseDown);\n        document.addEventListener('mouseup', handleMouseUp);\n\n        return () => {\n            document.removeEventListener('mousemove', handleMouseMove);\n            document.removeEventListener('mouseover', handleMouseOver);\n            document.removeEventListener('mousedown', handleMouseDown);\n            document.removeEventListener('mouseup', handleMouseUp);\n            \n            if (rafId) {\n                cancelAnimationFrame(rafId);\n            }\n        };\n    }, [handleMouseMove, handleMouseOver, handleMouseDown, handleMouseUp, rafId]);\n\n    return (\n        <div\n            className={`custom-cursor ${isHover ? 'hover' : ''} ${isPointerDown ? 'active' : ''}`}\n            style={{\n                left: `${position.x}px`,\n                top: `${position.y}px`,\n            }}\n        />\n    );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}